[pytest]
# 测试发现路径
testpaths = tests

# Python 文件匹配模式
python_files = test_*.py *_test.py

# Python 类匹配模式
python_classes = Test* *Tests

# Python 函数匹配模式
python_functions = test_*

# 最小 Python 版本
minversion = 7.0

# 命令行选项
addopts = 
    -v
    --strict-markers
    --tb=short
    -ra

# 测试标记定义
markers =
    unit: 单元测试，使用 mock，不依赖外部资源
    integration: 集成测试，使用真实数据库
    slow: 慢速测试
    asyncio: 异步测试

# 异步测试模式（自动检测）
asyncio_mode = auto

# 忽略的路径
norecursedirs = .git .venv __pycache__ *.egg-info

# 控制台输出编码
console_output_style = progress
